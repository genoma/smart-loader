/*! smart-loader 29-03-2013 */
(function(n){"use strict";n.fn.smartLoader=function(e){var t={howManySeconds:1e3,lengthOfLoop:200,callback:function(){},errorCallback:function(){},theControl:"document"};return e=n.extend({},t,e),this.each(function(){function t(n){var e=n,t=[n.attr("src")];e.attr("src","smart-loader-loaders/white.png"),e.css({background:"url(smart-loader-loaders/SmartLoader60.gif)","background-repeat":"no-repeat","background-position":"center center"}),n=new Image,n.onload=function(){i++,e.attr("src",t[0])},n.src=t[0]}function a(n){var e=[n.attr("src")];n=new Image,n.onload=function(){i++},n.src=e[0]}function r(n){var t=(new Date).getTime()-l;i!==d&&t>=e.howManySeconds?(clearInterval(n),e.errorCallback.call(s)):i===d&&t>=e.howManySeconds&&(clearInterval(n),e.callback.call(s))}var o,c=n("img"),l=(new Date).getTime(),i=0,s=jQuery(this),u=document.getElementsByTagName("img"),d=u.length;console.log(d),"document"===e.theControl?(c.each(function(){a(n(this))}),o=setInterval(function(){r(o)})):"images"===e.theControl&&(c.each(function(){t(n(this))}),o=setInterval(function(){r(o)}))})}})(jQuery);