/*! smart-loader 29-03-2013 */
(function(e){"use strict";e.fn.smartLoader=function(n){var t={howManySeconds:1e3,lengthOfLoop:200,callback:function(){},errorCallback:function(){},theControl:"document"};return n=e.extend({},t,n),this.each(function(){function t(e){var n=e,t=[e.attr("src")];n.attr("src","smart-loader-loaders/white.png"),n.css({background:"url(smart-loader-loaders/SmartLoader60.gif)","background-repeat":"no-repeat","background-position":"center center"}),e=new Image,e.onload=function(){s++,n.attr("src",t[0])},e.src=t[0]}function o(e){var n=[e.attr("src")];e=new Image,e.onload=function(){s++},e.src=n[0]}function a(e){console.log("loop"),console.log(g);var t=(new Date).getTime()-l;s!==g&&t>=n.howManySeconds?(clearInterval(e),n.errorCallback.call(i)):s===g&&(clearInterval(e),n.callback.call(i))}var r,c=e("img"),l=(new Date).getTime(),s=0,i=jQuery(this),u=document.getElementsByTagName("img"),g=u.length;console.log(g),"document"===n.theControl?(c.each(function(){o(e(this))}),r=setInterval(function(){a(r)},n.lengthOfLoop)):"images"===n.theControl&&(c.each(function(){t(e(this))}),r=setInterval(function(){a(r)},n.lengthOfLoop))})}})(jQuery);