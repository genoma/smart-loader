/*! smart-loader 17-03-2013 */
(function(e){e.fn.smartLoader=function(n){var t={howManySeconds:2e3,lengthOfLoop:200,callback:function(){},errorCallback:function(){},theControl:"images"},n=e.extend({},t,n);return this.each(function(){function t(e){var n=e,t=[e.attr("src")];n.attr("src","smart-loader-loaders/white.png"),n.css({background:"url(smart-loader-loaders/SmartLoader60.gif)","background-repeat":"no-repeat","background-position":"center center"});var e=new Image;e.onload=function(){l++,n.attr("src",t[0])},e.src=t[0]}function a(e){var n=[e.attr("src")],e=new Image;e.onload=function(){l++},e.src=n[0]}var r=e("img"),o=0,c=(new Date).getTime(),l=0,i=document.getElementsByTagName("img"),s=i.length;console.log(s),"document"===n.theControl?r.each(function(){a(e(this))}):"images"===n.theControl&&r.each(function(){t(e(this))});var u=setInterval(function(){var e=(new Date).getTime()-c;l!==s&&n.howManySeconds>e?o=0:l!==s&&e>=n.howManySeconds?(clearInterval(u),n.errorCallback.call(this)):(clearInterval(u),n.callback.call(this))},n.lengthOfLoop)})}})(jQuery);